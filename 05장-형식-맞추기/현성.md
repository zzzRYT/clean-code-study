# ⭐ 감상문

## 5장 형식 맞추기

- 코드 형식을 맞추기 위한 간단한 규칙을 정하고 그 규칙을 착실히 따라야 한다.
- 팀으로 일한다면 팀이 합의해 규칙을 정하고 모두가 그 규칙을 따라야 한다.

> 이번 5장은 개인이 갖추어야 할(어쩌면 모든 개발자가) 코드 작성 방법과 팀 프로젝트일 때는 컨벤션을 맞추어야 하는 내용이 주를 이루고 있는 것 같습니다.

### 형식을 맞추는 목적

- 코드 형식은 중요하다! 너무 중요해서 무시하기 어려우며, 의사소통의 일환이다.
- 오늘 구현한 코드의 가독성은 앞으로 바뀔 코드의 품질에 지대한 영향을 미친다.

### 적절한 행 길이를 유지하라

- (표를 보여주며) 이 표가 우리에게 무엇을 말하는가? 500줄을 넘지 않고 대부분 200줄 정도(파일 길이)인 파일로도 커다란 시스템을 구축할 수 있다는 사실이다.
- 반드시 지킬 엄격한 규칙은 아니지만 바람직한 규칙으로 삼으면 좋겠다.

#### 신문 기사처럼 작성하라

- 아주 좋은 신문 기사를 떠올려보면 첫 문단은 전체 기사 내용을 요약하고, 쭉 읽으며 내려가면 세세한 사실이 조금씩 드러난다.
- 소스 파일 또한 신문 기사와 비슷하게 이름은 간단하면서도 설명이 가능하게 작성하면 된다.

> 신문 기사로 예를 든 게 인상 깊었습니다. 이전에 클린 코드에서 신문 기사 말고도 글처럼 읽혀야 좋은 코드라고 했던 것 같은데, 이 파트에서 그것을 좀 더 풀어서 설명을 해주니 이해가 잘 되었습니다.

#### 개념은 빈 행으로 분리하라

- 생각 사이는 빈 행을 넣어 분리해야 마땅하다.

개념을 빈 행으로 구분한 코드

```java
package fitnesse.wikitext.widgets;

import java.util.regex.*;

public class BoldWidget extends ParentWidget {
  public static final String REGEXP = "'''.+?'''";
  private static final Pattern pattern = Pattern.compile("'''(.+?)'''",
    Pattern.MULTILINE + Pattern.DOTALL
  );

  public BoldWidget(ParentWidget parent, String text) throws Exception {
    super(parent);
    Matcher match = pattern.matcher(text);
    match.find();
    addChildWidgets(match.group(1));
  }

  public String render() throws Exception {
    StringBuffer html = new StringBuffer("<b>");
    html.append(childHtml()).append("</b>");
    return html.toString();
  }
}
```

구분하지 않은 코드

```java
package fitnesse.wikitext.widgets;
import java.util.regex.*;
public class BoldWidget extends ParentWidget {
  public static final String REGEXP = "'''.+?'''";
  private static final Pattern pattern = Pattern.compile("'''(.+?)'''",
    Pattern.MULTILINE + Pattern.DOTALL);
  public BoldWidget(ParentWidget parent, String text) throws Exception {
    super(parent);
    Matcher match = pattern.matcher(text);
    match.find();
    addChildWidgets(match.group(1));}
  public String render() throws Exception {
    StringBuffer html = new StringBuffer("<b>");
    html.append(childHtml()).append("</b>");
    return html.toString();
  }
}
```

> 코드를 자세히 보면 줄바꿈 뿐만 아니라 중괄호 배치 또한 다르다는 것을 알 수 있습니다. 빈 행으로 구분한 코드가 길이 자체는 더 길지 몰라도 그렇지 않은 코드와의 가독성 차이가 심해서 이런 부분들은 자연스럽게 스스로 고쳐진다 생각하기 때문에 그렇게 문제가 될 것 같진 않습니다.

#### 세로 밀집도

- 서로 밀접한 코드 행은 세로로 가까이 놓여야 한다.

안 좋은 예

```java
public class ReporterConfig {
  /**
  * 리포터 리스너의 클래스 이름
  */
  private String m_className;

  /**
  * 리포터 리스너의 속성
  */
  private List<Property> m_properties = new ArrayList<Property>();

  public void addProperty(Property property) {
  m_properties.add(property);
  }
}
```

좋은 예

```java
public class ReporterConfig {
    private String m_className;
    private List<Property> m_properties = new ArrayList<Property>();

    public void addProperty(Property property) {
        m_properties.add(property);
    }
}
```

- 같은 코드더라도 안 좋은 예보다 좋은 에가 변수 2개에 메서드 1개인 클래스라는 사실이 드러난다.
