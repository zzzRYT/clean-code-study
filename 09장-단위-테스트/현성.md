# 9장 단위 테스트

- 우리 분야는 지금까지 눈부신 성장을 이뤘지만 앞으로 갈 길은 여전히 멀다.
- 애자일과 TDD 덕택에 단위 테스트를 자동화하는 프로그래머들이 이미 많아졌으며 점점 더 늘어나는 추세다.
- 많은 프로그래머들이 제대로 된 테스트 케이스를 작성해야 한다는 사실을 놓쳐버렸다.

## TDD 법칙 세 가지

1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

- 위 세 가지 규칙을 따르면 개발과 테스트가 대략 30초 주기로 묶인다.
- 하지만 실제 코드와 맞먹을 정도로 방대한 테스트 코드는 심각한 관리 문제를 유발하기도 한다.

## 깨끗한 테스트 코드 유지하기

- 테스트 코드가 복잡할수록 실제 코드를 짜는 시간보다 테스트 케이스를 추가하는 시간이 더 걸리기 십상이다.
- 실제 코드를 변경해 기존 테스트 케이스가 실패하기 시작하면, 지저분한 코드에 실패하는 테스트 케이스를 통과시키기 어려워지기 때문에 테스트 코드는 계속해서 늘어나는 부담이 되어버린다.
- 테스트 코드를 깨끗하게 짰다면 테스트에 쏟아 부은 노력은 허사로 돌아가지 않았을 터이다.
- 테스트 코드는 실제 코드 못지 않게 중요하다.

### 테스트는 유연성, 유지보수성, 재사용성을 제공한다.

- 코드에 유연성, 유지보수성, 재사용성을 제공하는 버팀목이 바로 단위 테스트다.
- 테스트 케이스가 있다면 공포는 사실상 사라진다.

## 깨끗한 테스트 코드

- 깨끗한 테스트 코드는 세가지가 필요하다.
  - 가독성
  - 가독성
  - 가독성
- 테스트 코드의 가독성을 높이려면?
  - 명료성
  - 단순성
  - 픙부한 표현력
