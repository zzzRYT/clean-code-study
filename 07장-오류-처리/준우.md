# ⭐ 감상문

## 오류 처리

- 오류 처리는 프로그램에 반드시 필요한 요소 중 하나일 뿐이다.

- 오류 처리는 중요하다. 하지만 오류 처리 코드로 인해 프로그램 논리를 이해하기 어려워진다면 깨끗한 코드라 부르기 어렵다.

### 오류 코드보다 예외를 사용하라

- 에전에는 예외를 지원하지 않는 프로그래밍 언어가 많았다.

- 오류 플래그를 설정하거나 호출자에게 오류 코드를 반환하는 방법이 전부였다.

```java
public class Devicecontroller {
    public void sendShutDown() {
    DeviceHandle handle = getHandle(DEVl);
    // 디바이스 상태를 점검한다.
    if (handle != DeviceHandle.INVALID) {
        // 레코드 필드에 디바이스 상태를 저장한다.
        ret rieveDeviceReco rd(handle);
        // 디바이스가 일시정지 상태가 아니라면 종료한다.
        if (record.getStatusO != DEVICE_SUSPENDED) {
            pauseDevice(handle);
            clearDeviceWo rkQueue(handle);
            } else {
                logger.log("Device suspended. Unable to shut down");
        }
    } else {
        logger.log("Invalid handle for: " + DEVl.toStringO);
    }
 }
}
```

- 호출자 코드가 복잡해진다. 함수로 호출한 즉시 오류를 확인해야 하기 때문이다.

- 오류가 발생하면 예외를 던지는 편이 낫다.

```java
public class DeviceController {
    public void sendShutDown() {
    try {
        tryToShutDown();
    } catch (DeviceShutDownError e) {
        logger.log(e);
    }
}
private void tryToShutDown() throws DeviceShutDownError {
    DeviceHandle handle = getHandle(DEVl);
    DeviceRecord record = retrieveDeviceRecord(handle);
    pauseDevice(handle);
    clearDeviceWo rkQueue(handle);
    closeDevice(handle);
}
private DeviceHandle getHandle(DevicelD id) {
    throw new DeviceShutDownError("Invalid handle for: " + id.toString());
    }
}
```

-
